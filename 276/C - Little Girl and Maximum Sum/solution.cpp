#include<bits/stdc++.h>using namespace std;#define int long long  void solve(){    int n,q;    cin >> n >> q;        vector<int> v(n), ans(n + 1, 0), freq(n + 2 , 0);    for(auto & i : v) cin >> i;        for(int i = 0; i < q; i++){        int l,r;        cin >> l >> r;        freq[l]++;        freq[r + 1]--;    }        for(int i = 1;i <= n; i++){        freq[i] += freq[i - 1];    }        sort(freq.begin(), freq.end(), greater<int>());    sort(v.begin(), v.end(), greater<int>());            int c = 0;    for(int i = 0;i < n; i++){        c += v[i] * freq[i];       }            cout << c << endl;            }    signed main(){    solve();}