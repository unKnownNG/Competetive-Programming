#include <bits/stdc++.h>using namespace std; void solve(){    // LOGIC    int n;    cin >>n;     vector<long long > v(n);     for(int i = 0;i < n; i++) cin >> v[i];     long long m = v[0], c= 0;    if(n < 3LL){        if(v[0] < v[1]) {            cout << "0\n";        }        else{             cout <<  1 << endl;        }         return;    }     for(int i = 1; i < n; i++){        if(i & 1){            v[i] = max(m, v[i]);            m = v[i];        }        m = max(v[i], m);    }      m = v[0];     for(int i = 1; i < n - 1; i+= 2){        if(v[i] > v[i - 1] && v[i] > v[i + 1]) {            m = max(v[i], m);            continue;        }        else{            int dif;            if(v[i] <= v[i - 1]){                if(v[i] <= m) {                    c+=  v[i-1] - v[i] + 1;                    v[i- 1] -= v[i - 1] - v[i] + 1;                  }                            }            m = max(v[i], m);            m = max(v[i - 1], m);            if(v[i] <= v[i + 1]){                if(v[i] <= m){                    c+= v[i+1] - v[i] + 1;                    v[i+ 1] -= v[i + 1] - v[i] + 1;                 }            }            m = max(v[i + 1], m);        }    }     cout << c << endl;} int main(){    ios::sync_with_stdio(false); // Fast I/O    cin.tie(nullptr);            // Untie cin from cout     int n;    cin >> n;    while(n--) solve();}